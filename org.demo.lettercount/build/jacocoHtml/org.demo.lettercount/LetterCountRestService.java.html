<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="de"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>LetterCountRestService.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">org.demo.lettercount</a> &gt; <a href="index.source.html" class="el_package">org.demo.lettercount</a> &gt; <span class="el_source">LetterCountRestService.java</span></div><h1>LetterCountRestService.java</h1><pre class="source lang-java linenums">package org.demo.lettercount;

import javax.ws.rs.Consumes;
import javax.ws.rs.FormParam;
import javax.ws.rs.GET;
import javax.ws.rs.POST;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.core.MediaType;
import javax.ws.rs.core.Response;

/**
 *Jersey REST Service Class
 *
 *The class registers its methods for the HTTP GET request using the @GET annotation.
 *Using the @Produces annotation, it defines that it can deliver several MIME types,
 *text, XML and HTML.
 *The browser requests per default the HTML MIME type.
 *
 *@author  PaplJens
 *
 */

//Sets the path to base URL + /demo
@Path(&quot;/demo&quot;)
<span class="nc" id="L26">public class LetterCountRestService {</span>

	@GET
	@Produces(MediaType.TEXT_HTML)
	public String sayPlainTextHello() {
<span class="nc" id="L31">		 return &quot;&lt;html&gt; &quot; + &quot;&lt;title&gt;&quot; + &quot;Hello Jersey&quot; + &quot;&lt;/title&gt;&quot;</span>
			        + &quot;&lt;body&gt;&lt;h1&gt;&quot; + &quot;Hello Jersey&quot; + &quot;&lt;/body&gt;&lt;/h1&gt;&quot; + &quot;&lt;/html&gt; &quot;;
	}
	
		
	/**
	 *Gets letter and text from demo.html Form
	 *then counts the occurrence of the given letter in the given text (calls CountLetter.count())
	 *
	 */
	@POST	
	//@Path(&quot;/result&quot;)
	@Consumes(MediaType.APPLICATION_FORM_URLENCODED)
	@Produces(MediaType.TEXT_PLAIN)
	public Response getQuantity(@FormParam(&quot;letter&quot;) char letter, @FormParam(&quot;text&quot;) String text ) {
<span class="nc bnc" id="L46" title="All 4 branches missed.">		 if(letter == ' ' || text.length() == 0) {</span>
<span class="nc" id="L47">		        return Response.serverError().entity(&quot;Letter and text cannot be blank&quot;).build();}</span>
		
		
<span class="nc" id="L50">		int quantity = CountLetter.count(letter, text);</span>
		
				
		
<span class="nc" id="L54">	   String data = &quot; Quantity: &quot; + quantity +&quot; letter: &quot; + letter + &quot; text:  &quot; + text;</span>
		
		
<span class="nc" id="L57">		return Response</span>
				
				
					
<span class="nc" id="L61">				   .ok()				  </span>
<span class="nc" id="L62">				   .entity(data)</span>
<span class="nc" id="L63">			       .build();</span>

		
		// return &quot;&lt;html&gt; &quot; + &quot;&lt;title&gt;&quot; + &quot;Count successful&quot; + &quot;&lt;/title&gt;&quot;
			//        + &quot;&lt;body&gt;&lt;h1&gt;&quot; + &quot;Letter: &quot; + letter + &quot;    Count: &quot; + count + &quot;&lt;/body&gt;&lt;/h1&gt;&quot; + &quot;&lt;/html&gt; &quot;;
	}
	
	
}
	
	

</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.1.201803210924</span></div></body></html>